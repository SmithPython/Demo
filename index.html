<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Page Title</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>

    <script>
        function getCookie(cname){
            var name = cname + "=";
            var ca = document.cookie.split(';');
            for(var i=0; i<ca.length; i++) {
                var c = ca[i].trim();
                if (c.indexOf(name)==0) { return c.substring(name.length,c.length); }
            }
            return "";
        }

        function login(){
            if (true != navigator.cookieEnabled){
                window.location.replace("errercookie.html");
                return;
            }
            var user=getCookie("uToken");
            if (user!=""){
                window.location.replace("quiz.html");
            } else {
                //alert(window.Telegram.WebApp.platform);
                
                if(window.Telegram.WebApp.DeviceOrientation.isStarted){
                    alert("DeviceOrientationyes is stop");
                    window.Telegram.WebApp.DeviceOrientation.stop();
                }else{
                    //alert("DeviceOrientation is no");
                    alert(window.Telegram.WebApp.initData);
                }
                //alert(window.Telegram.WebApp.version);
               // window.location.replace("index2.html");
            }
        }
        function test2(){
            if(window.Telegram.WebApp.Gyroscope.isStarted){
                    alert("Gyroscopeyes is stop");
                window.Telegram.WebApp.Gyroscope.stop();
                }else{
                    //alert("Gyroscopeyes is no");
                alert(window.Telegram.WebApp.viewportHeight);
            }
        }
        function startDeviceOrientation1(){
            if(!window.Telegram.WebApp.isOrientationLocked){
                alert("方向沒鎖");
            } else {
                alert("方向鎖了");
            }
           // var obj = new DeviceOrientationStartParams(1000);
          //  window.Telegram.WebApp.DeviceOrientation.start(obj, function (){
                //alert("ok,start DeviceOrientation");
           //});
       }
        function startGyroscope1(){
            alert("馬上開啟Gyroscope");
            var obj = new GyroscopeStartParams(1000, false);
            window.Telegram.WebApp.Gyroscope.start(obj, function (){
                alert("ok,start Gyroscope");
            });
        }
        
    </script>
</head>
<body >
    <div>
        <h1 id="login">测试页..</h1>
        <!--<h1 id="loadimg"></h1>-->
        <button type="button"  onclick="login()" value="提交">是否開啟了方向</button>
        <button type="button"  onclick="test2()" value="提交">是否開啟了陀羅</button>
        <button type="button"  onclick="startDeviceOrientation1()" value="提交">開啟方向</button>
        <button type="button"  onclick="startGyroscope1()" value="提交">開啟陀羅</button>
        <!--<p id="demo22"></p>-->
    </div>
</body>
</html>
